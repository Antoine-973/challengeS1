import{u}from"./vue-router-efb649a8.js";import{r as a,a4 as d,o,c as s,b as c,t as f}from"./runtime-core.esm-bundler-4092eae4.js";const h={key:0,class:"flex justify-center justify-items-center flex-col h-full w-full"},_=c("h1",{class:"text-4xl text-center pt-8"},"Loading ...",-1),p=[_],m={key:1},v={key:0,class:"text-4xl text-center pt-8"},y=c("h1",null,"Account verified",-1),x={key:1,class:"text-4xl text-center pt-8"},A={__name:"ConfirmAccountView",setup(w){const i=u().currentRoute.value.query;console.log(i);const l=a(!1),n=a(!0),e=a(5),r=async()=>await(await fetch("https://localhost/confirm",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({confirmAccount:i.token.trim()})})).json();return d(async()=>{try{await r(),l.value=!0,n.value=!1}catch{n.value=!1}for(;e.value>0;)await new Promise(t=>setTimeout(t,1e3)),e.value--,e.value===0&&(window.location.href="http://localhost:3000/login")}),(t,g)=>n.value?(o(),s("div",h,p)):(o(),s("div",m,[l.value?(o(),s("div",v,[y,c("h2",null,"You will be redirect in "+f(e.value)+" secondes",1)])):(o(),s("h1",x," Le lien de confirmation est invalide"))]))}};export{A as default};
